["function _4ba8ad33482aaf1876209994bddf96be65f5372d",50,425730,"JsonP",376819,44,"\"Ext.data.ScriptTagProxy\",config:{defaultWriterType:\"base\",callbackKey:\"callback\",recordParam:\"records\",autoAppendParams:true",377070,39,"c=d.buildRequest(a),e=c.getParams();c.setConfig({callbackKey:d.getCallbackKey(),timeout:d.getTimeout(),scope:d",377225,42,"});if(d.getAutoAppendParams()){c.setParams({})}c.setJsonP(Ext.data.JsonP.request(c.getCurrentConfig()));c.setParams(e);a.setStarted();d.lastRequest=c;return c",377602,69,"h,f,g){delete c.lastRequest;",377678,32,",setException:function(b,a){b.setException(b.getRequest().getJsonP().errorType)},buildUrl:function(f){var e=this,a=Ext.data.proxy.Server.prototype.buildUrl.apply(this,arguments),h=Ext.apply({},f.getParams()),d=h.filters,c,b,g;delete h.filters;if(e.getAutoAppendParams()){a=Ext.urlAppend(a,Ext.Object.toQueryString(h))}if(d&&d.length){for(b=0;b<d.length;b++){c=d[b];g=c.getValue();if(g){a=Ext.urlAppend(a,c.getProperty()+\"=\"+g)}}}return a},destroy:function(){this.abort();Ext.data.proxy.Server",420464,41,",abort:function(){var a=this.lastRequest;if(a){Ext.data.JsonP.abort(a.getJsonP())}}},0,0,0,0,[\"proxy.jsonp\",\"proxy.scripttag\"],0,[Ext.data.proxy,\"JsonP\",Ext.data,\"ScriptTag",368992,38,425774,176447,"Task",601900,41,"id\",type:\"int\"},{name:\"completed\",type:\"boolean\"},{name:\"title\",type:\"string\"},{name:\"description\",type:\"string\"}],idProperty:\"id\"}},0,0,0,0,0,0,[MyApp.model,\"Task",602185,36,"APImeteo",601900,34,"\"cod\",\"message\",\"city\",\"cnt\",\"list\"]}},0,0,0,0,0,0,[MyApp.model,\"APImeteo",602860,36,602524,86,602624,39,"json",602667,229,"TaskStore\",Ext.data.Store,{config:{autoLoad:true,autoSync:true,model:\"MyApp.model.Task\",storeId:\"TaskStore\",data:[{completed:\"false\",title:\"Pains \ufffff\ufffff hamburger\",description:\"100\"},{completed:\"true\",title:\"Sauce tomate\",description:\"100\"},{completed:\"false\",title:\"Fromage\",description:\"100\"},{completed:\"false\",title:\"Viande hach\ufffff\ufffffe\",description:\"100\"},{completed:\"false\",title:\"Salade\",description:\"100\"},{completed:\"false\",title:\"Pickles\",description:\"100\"}]}},0,0,0,0,0,0,[MyApp.store,\"Task",603209,35,"store.ReportDetail",602900,50,"report\",storeId:\"reportDetailStore\"",602623,40,"json",602667,100,"detailstore\"],[\"reportdetailstore\"],{reportdetailstore:true},[\"widget.reportdetailstore\"],0,[MyApp.store,\"ReportDetail",603209,35,"store.ApiMeteo",602900,50,"APImeteo\",storeId:\"apimeteoStore\",proxy:{type:\"jsonp\",url:\"http://api.openweathermap.org/data/2.5/forecast/daily?q=Paris,fr&mode=json&units=metric&cnt=6&lang=fr\",reader:{type:\"json\"}}}},0,[\"apimeteostore\"],[\"apimeteostore\"],{apimeteostore:true},[\"widget.apimeteostore\"],0,[MyApp.store,\"ApiMeteo",603209,35,"store.Previsions",602900,50,"report\",storeId:\"previsionsstore\"",602623,40,"jsonHisto",602667,94,"previsionsstore\"],[\"previsionsstore\"],{previsionsstore:true},[\"widget.previsionsstore\"],0,[MyApp.store,\"Previsions",603209,1616,604839,35,"src:",604925,45,",mode:\"image\"",604974,509,"var m_number=new Array(\"01\",\"02\",\"03\",\"04\",\"05\",\"06\",\"07\",\"08\",\"09\",\"10\",\"11\",\"12\"",605481,43,"navigation.View,{config:{id:\"nvViewReports\",items:[{xtype:\"panel\",title:\"Rapport\",id:\"ViewReports1\",items:[{margin:\"40\",xtype:\"datepickerfield\",dateFormat:\"d/m/Y\",label:\"Date\",id:\"ReportsDatePicker\",name:\"rapportdate\",value:new Date(),picker:{slotOrder:[\"day\",\"month\",\"year\"],yearFrom:new Date().getFullYear()-1,listeners:{show:function(b,c){var a=this.getValue()},cancel:function(a,b){},change:function(b,c){var d=c.getFullYear()+\"-\"+m_number[c.getMonth()]+\"-\"+c.getDat",604186,55,"Ext.getStore(\"reportStore\").getProxy().setExtraParams({jour:d,somme:1});Ext.getStore(\"reportStore\").load();Ext.getCmp(\"reportsList\").setStore(Ext.getStore(\"reportStore\"))});a.delay(500)}}}},{height:400,id:\"reportsList\",docked:\"bottom\",xtype:\"list\",itemTpl:\"{name_restaurant} - {sales}\ufffff\ufffff\ufffff\",title:\"Tests\"",605649,51,"navigationview\",\"reportsview",595408,34,"navigationview",605739,80,"opts=[{text:\"Argout\",value:\"Argout\"},{text:\"Beaumarchais\",value:\"Beaumarchais\"},{text:\"R\ufffff\ufffffpublique\",value:\"Republique\"},{text:\"M\ufffff\ufffffnilmontant\",value:\"Menilmontant\"}];var m_number=new Array(\"01\",\"02\",\"03\",\"04\",\"05\",\"06\",\"07\",\"08\",\"09\",\"10\",\"11\",\"12\");var weekday=new Array(7);weekday[0]=\"Dimanche\";weekday[1]=\"Lundi\";weekday[2]=\"Mardi\";weekday[3]=\"Mercredi\";weekday[4]=\"Jeudi\";weekday[5]=\"Vendredi\";weekday[6]=\"Samedi\";(Ext.cmd.derive(\"MyApp.view.Prevision",605517,41,603309,89,"selectfield\",id:\"restpick\",label:\"Restaurant\",autoSelect:false,placeHolder:\"Choississez...\",options:opts,margin:10,style:\"width:20%;margin-left:auto;\"},{xtype:\"container\",style:\"margin-top:30px;\",layout:\"hbox\",items:[{layout:\"vbox\",style:\"width:33%\",items:[{html:\"Jour",605025,59,"},{xtype:\"label\",name:\"J",605025,65,"\"J\"},{xtype:\"label\",name:\"J+1",605025,59,"},{xtype:\"label\",name:\"J+2",605025,59,"},{xtype:\"label\",name:\"J+3",605025,59,"},{xtype:\"label\",name:\"J+4",605025,59,"},{xtype:\"label\",name:\"J+5",605025,59,"}]},{layout:\"vbox\",style:\"width:33%\",items:[{html:\"CA",605025,59,"},{xtype:\"label\",name:\"CA_J",605025,65,"\"CA_J\"},{xtype:\"label\",name:\"CA_J+1",605025,65,"\"CA_J+1\"},{xtype:\"label\",name:\"CA_J+2",605025,59,"},{xtype:\"label\",name:\"CA_J+3",605025,59,"},{xtype:\"label\",name:\"CA_J+4",605025,59,"},{xtype:\"label\",name:\"CA_J+5",605025,59,"}]},{layout:\"vbox\",style:\"width:33%\",items:[{html:\"Meteo",605025,59,"},{xtype:\"label\",name:\"Meteo_J",605025,65,"\"Meteo_J\"},{xtype:\"label\",name:\"Meteo_J+1",605025,65,"\"Meteo_J+1\"},{xtype:\"label\",name:\"Meteo_J+2",605025,59,"},{xtype:\"label\",name:\"Meteo_J+3",605025,59,"},{xtype:\"label\",name:\"Meteo_J+4",605025,59,"},{xtype:\"label\",name:\"Meteo_J+5",605025,59,"}]}]}]},updateWithRecord:function(r){var n=2;storeCA=Ext.getStore(\"previsionsstore\");store=Ext.getStore(\"apimeteoStore\");v=new Date();var s=v.getFullYear()-1+\"-\"+m_number[v.getMonth()]+\"-\"+v.getDate();storeCA.getProxy().setExtraParams({jour:s,restaurant:r});store.load();storeCA.load();Ext.Viewport",553102,37,"\"Chargement...\"});var k=this.down('label[name=\"J\"]');var e=this.down('label[name=\"J+1\"]');var d=this.down('label[name=\"J+2\"]');var c=this.down('label[name=\"J+3\"]');var b=this.down('label[name=\"J+4\"]');var a=this.down('label[name=\"J+5\"]');var v=new Date();k.setHtml(weekday[v.getDay()]);v=new Date(new Date().getTime()+24*60*60*1000);e.setHtml(weekday[v.getDay()]);v=new Date(new Date().getTime()+48*60*60*1000);d.setHtml(weekday[v.getDay()]);v=new Date(new Date().getTime()+72*60*60*1000);c.setHtml(weekday[v.getDay()]);v=new Date(new Date().getTime()+96*60*60*1000);b.setHtml(weekday[v.getDay()]);v=new Date(new Date().getTime()+120*60*60*1000);a.setHtml(weekday[v.getDay()]);var m=this.down('label[name=\"Meteo_J\"]');var u=this.down('label[name=\"Meteo_J+1\"]');var t=this.down('label[name=\"Meteo_J+2\"]');var q=this.down('label[name=\"Meteo_J+3\"]');var p=this.down('label[name=\"Meteo_J+4\"]');var o=this.down('label[name=\"Meteo_J+5\"]');var f=this.down('label[name=\"CA_J\"]');var l=this.down('label[name=\"CA_J+1\"]');var j=this.down('label[name=\"CA_J+2\"]');var i=this.down('label[name=\"CA_J+3\"]');var h=this.down('label[name=\"CA_J+4\"]');var g=this.down('label[name=\"CA_J+5\"]');store.on(\"load\",function(){n=n-1;if(n==0){Ext.Viewport.setMasked(false)}meteoJ=Ext.getStore(\"apimeteoStore\").getAt(0).get(\"list\")[0].weather[0];meteoJ1=Ext.getStore(\"apimeteoStore\").getAt(0).get(\"list\")[1].weather[0];meteoJ2=Ext.getStore(\"apimeteoStore\").getAt(0).get(\"list\")[2].weather[0];meteoJ3=Ext.getStore(\"apimeteoStore\").getAt(0).get(\"list\")[3].weather[0];meteoJ4=Ext.getStore(\"apimeteoStore\").getAt(0).get(\"list\")[4].weather[0];meteoJ5=Ext.getStore(\"apimeteoStore\").getAt(0).get(\"list\")[5].weather[0];m.setHtml(meteoJ.description);u.setHtml(meteoJ1.description);t.setHtml(meteoJ2.description);q.setHtml(meteoJ3.description);p.setHtml(meteoJ4.description);o.setHtml(meteoJ5.description);f.setHtml(\"CA1\");l.setHtml(\"CA2\");j.setHtml(\"CA3\");i.setHtml(\"CA4\");h.setHtml(\"CA5\");g.setHtml(\"CA6\")});storeCA.on(\"load\",function(){alert(\"Loaded\");n=n-1;if(n==0){Ext.Viewport.setMasked(false)}})}},0,[\"previsions",573087,33,"previsionsview",595408,34,"previsionsview:true},[\"widget.previsionsview\"],0,[MyApp.view,\"Previsions\"],0)",604645,63,"TaskList\",Ext.dataview.List,{config:{id:\"taskList\",displayField:\"title\",cls:\"myList\",store:Ext.create(\"MyApp.store.TaskStore\"),itemTpl:new Ext.XTemplate('<tpl for=\".\">','<tpl if=\"completed ==true\"\">','<div style=\"color: #038000;\">Done : {title}</div>',\"</tpl>\",'<tpl if=\"completed !=true\"\">','<div  class=\"\">Todo : {title}</div>',\"</tpl>\",\"</tpl>\"),items:[{xtype:\"toolbar\",title:\"Liste des aliments \ufffff\ufffff pr\ufffff\ufffffparer\",docked:\"top\"}]}},0,[\"TaskList",431758,33,"view\",\"list\",\"TaskLis",595407,35,"dataview:true,list:true,TaskList:true},[\"widget.TaskList\"],0,[MyApp.view,\"TaskList",603214,35,"Stock",605517,41,"selectfield\",label:\"Restaurant\",autoSelect:false,placeHolder:\"Choississez...\",options:opts,margin:10,style:\"width:20%;margin-left:auto;\"},{height:400,id:\"stocklist\",docked:\"bottom\",xtype:\"list\",itemTpl:\"{ingredient} - {Quantit\ufffff\ufffff}\"}]}},0,[\"stocks",573087,33,"stocksview",595408,34,"stocksview:true},[\"widget.stocksview\"],0,[MyApp.view,\"Stock",605807,142,"layout:\"fi",606288,40,605986,71,"layout:\"fi",606288,40,"previsionsview",606237,54,"layout:\"fi",606288,40,"TaskList",606471,47,"car",606288,40,"stocksview",606700,2024,"var opts=[{text:\"Choix 1\",value:\"Choix1\"},{text:\"Choix 2\",value:\"Choix2\"},{text:\"Choix 3\",value:\"Choix3\"},{text:\"Choix 4\",value:\"Choix4\"}];var optsmeteo=[{text:\"Meteo 1\",value:\"Meteo1\"},{text:\"Meteo 2\",value:\"Meteo2\"},{text:\"Meteo 3\",value:\"Meteo3\"},{text:\"Meteo 4\",value:\"Meteo4\"}]",604679,32,"Soir",608756,37,"r",603292,113,605027,115,"label",605025,65,"\"Argout\"},{xtype:\"label",605025,65,"\"Soir\"},",605550,33,"textfield\",id:\"ChiffresSoir\",label:\"Chiffre : \",margin:10},{xtype:\"selectfield\",label:\"Remarque\",id:\"RemarqueSoir\",usePicker:false,options:opts,margin:10},{xtype:\"selectfield\",label:\"M\ufffff\uffffft\ufffff\ufffffo\",id:\"MeteoSoir\",usePicker:false,options:optsmeteo,margin:10},{xtype:\"textfield\",label:\"Remarque urgente\",id:\"RemarqueUSoir\",margin:10}]},{xtype:\"toolbar\",layout:{pack:\"center\"},ui:\"plain\",items:[{xtype:\"button\",text:\"Envoyer\",ui:\"confirm\",handler:function(b,a){Chiffre=Ext.getCmp(\"ChiffresSoir\").getValue();Remarque=Ext.getCmp(\"RemarqueSoir\").getValue();Meteo=Ext.getCmp(\"MeteoSoir\").getValue();RemarqueU=Ext.getCmp(\"RemarqueUSoir\").getValue();Ext.Msg.alert(\"Selection : \",Ext.String.format(\"{0} {1} {2} {3}\",Chiffre,Remarque,Meteo,RemarqueU))}}]}]}},0,[\"addviewsoir",609003,36,"soir",609040,41,"soir:true},[\"widget.addviewsoir\"],0,[MyApp.view,\"AddSoir\"],0));var opts=[{text:\"Choix 1\",value:\"Choix1\"},{text:\"Choix 2\",value:\"Choix2\"},{text:\"Choix 3\",value:\"Choix3\"},{text:\"Choix 4\",value:\"Choix4\"}];var optsmeteo=[{text:\"Meteo 1\",value:\"Meteo1\"},{text:\"Meteo 2\",value:\"Meteo2\"},{text:\"Meteo 3\",value:\"Meteo3\"},{text:\"Meteo 4\",value:\"Meteo4\"}]",604679,32,"Midi",608756,37,"r\",id:\"AddMidi",603292,113,605027,115,"label",605025,65,"\"Argout\"},{xtype:\"label",605025,65,"\"Midi\"},",605550,33,"textfield\",id:\"ChiffresMidi\",label:\"Chiffre : \",margin:10},{xtype:\"selectfield\",id:\"RemarqueMidi\",label:\"Remarque\",usePicker:false,options:opts,margin:10},{xtype:\"selectfield\",id:\"MeteoMidi\",label:\"M\ufffff\uffffft\ufffff\ufffffo\",usePicker:false,options:optsmeteo,margin:10},{xtype:\"textfield\",id:\"RemarqueUMidi\",label:\"Remarque urgente\",name:\"RemarqueU\",margin:10}]},{xtype:\"toolbar\",layout:{pack:\"center\"},ui:\"plain\",items:[{xtype:\"button\",text:\"Envoyer\",ui:\"confirm\",handler:function(b,a){Chiffre=Ext.getCmp(\"ChiffresMidi\").getValue();Remarque=Ext.getCmp(\"RemarqueMidi\").getValue();Meteo=Ext.getCmp(\"MeteoMidi\").getValue();RemarqueU=Ext.getCmp(\"RemarqueUMidi\").getValue();Ext.Msg.alert(\"Selection : \",Ext.String.format(\"{0} {1} {2} {3}\",Chiffre,Remarque,Meteo,RemarqueU))}}]}]}},0,[\"addviewmidi",609003,36,"midi",609040,41,"midi:true},[\"widget.addviewmidi\"],0,[MyApp.view,\"AddMidi",609644,41,"Add",609693,48,"Add\",\"AddMidi\",\"AddSoir",609230,38,609288,143,"midi",609432,71,"soir",609504,80,"controller.Task",609693,40,"id:\"taskController\",refs:{taskList:\"#taskList\"},control:{taskList:{itemtap:\"showTask\",disclose:\"changeDoneStatus\"}}},launch:function(){},changeDoneStatus:function(f,b,h,c,g,d){var a=b.get(\"completed\");b.set(\"completed\",!a)},showTask:function(f,c,h,b,g,d){var a=b.get(\"completed\");b.set(\"completed\",!a);setTimeout(function(){f.deselect(c)},0)},cancel:function(b,c,a){this.showList(",608667,35,"Task",112077,34,"MyApp.view.ReportsDetail",605518,40,603309,96,"name:\"date",605025,59,"},{xtype:\"label\",name:\"restaurant",605025,59,"},{xtype:\"container\",style:\"margin-top:30px;\",layout:\"hbox\",items:[{layout:\"vbox\",style:\"width:50%\",items:[{html:\"Service midi",605025,59,"},{xtype:\"label\",name:\"ca_midi",605025,59,"},{xtype:\"label\",name:\"remarque_midi",605025,59,"},{xtype:\"label\",name:\"meteo_midi",605025,59,"},{xtype:\"label\",name:\"remarque_urgente_midi",605025,59,"}]},{layout:\"vbox\",style:\"width:50%;\",items:[{html:\"Service soir",605025,59,"},{xtype:\"label\",name:\"ca_soir",605025,59,"},{xtype:\"label\",name:\"remarque_soir",605025,59,"},{xtype:\"label\",name:\"meteo_soir",605025,59,"},{xtype:\"label\",name:\"remarque_urgente_soir",605025,59,"}]}]}]},updateWithRecord:function(g,a,f){labeldate=this.down('label[name=\"date\"]');labelrestaurant=this.down('label[name=\"restaurant\"]');labeldate.setHtml(g);labelrestaurant.setHtml(a);store=Ext.getStore(\"reportDetailStore\");store.getProxy().setExtraParams({jour:f,restaurant:a});store.load();Ext.Viewport",553102,37,"\"Chargement...\"});var d=this.down('label[name=\"ca_midi\"]');var e=this.down('label[name=\"remarque_midi\"]');var c=this.down('label[name=\"meteo_midi\"]');var b=this.down('label[name=\"remarque_urgente_midi\"]');var j=this.down('label[name=\"ca_soir\"]');var k=this.down('label[name=\"remarque_soir\"]');var i=this.down('label[name=\"meteo_soir\"]');var h=this.down('label[name=\"remarque_urgente_soir\"]');store.on(\"load\",function(){Ext.Viewport.setMasked(false);var l=Ext.getStore(\"reportDetailStore\").getAt(0);var m=Ext.getStore(\"reportDetailStore\").getAt(1);d.setHtml(l.get(\"sales\")+\" \ufffff\ufffff\ufffff\");e.setHtml(l.get(\"note\"));c.setHtml(l.get(\"weather\"));b.setHtml(l.get(\"warning_note\"));j.setHtml(m.get(\"sales\")+\" \ufffff\ufffff\ufffff\");k.setHtml(m.get(\"note\"));i.setHtml(m.get(\"weather\"));h.setHtml(m.get(\"warning_note\"))})}},0,[\"reportsdetail",573087,33,"reportsdetailview",595408,34,"reportsdetailview:true},[\"widget.reportsdetailview\"],0,[MyApp.view,\"ReportsDetail",609644,41,"Repor",609692,49,"Reports\",\"ReportsDetail\"],refs:{reportsdetailView:\"reportsdetailview\",reportsList:\"#reportsList\"},control:{reportsList:{itemtap:\"showDetails\"}}},showDetails:function(d,b,h,a,g,c){value=a.get(\"day\");var f=value.getFullYear()+\"-\"+m_number[value.getMonth()]+\"-\"+value.getDate();Ext.getCmp(\"nvViewReports\").push({xtype:\"reportsdetailview\"});var i=this.getReportsdetailView();i.updateWithRecord(value,a.get(\"name_restaurant\"),f);setTimeout(function(){d.deselect(b)},500",608667,35,"Report",112077,34,"MyApp.controller.Previsions",609693,48,"Previsions\"],refs:{previsionsView:\"previsionsview\",restpicker:\"#restpick\"},control:{restpicker:{change:\"changePick\"}}},changePick:function(c,b){var a=this.getPrevisionsView();a.updateWithRecord(b",608667,35,"Previsions",609793,65,"Task\",\"APImeteo\"],stores:[\"ReportStore\",\"TaskStore\",\"ReportDetailStore\",\"ApiMeteoStore\",\"Previsions",609892,40,"Midi\",\"AddSoir\",\"Reports\",\"TaskList\",\"ReportsDetail\",\"Previsions\",\"Stocks",609954,52,"askController\",\"ReportController\",\"Previsions",610013,791]