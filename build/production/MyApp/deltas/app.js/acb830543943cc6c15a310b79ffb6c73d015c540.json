["function _f0d3ac36beec1dac2e1f3c3477ffd98460e9ff8c",50,428867,"WebStorage",368280,54,"WebStorageProxy\",config:{id:undefined,reader:null,writer:null,enablePagingParams:false,defaultDateFormat:\"Y-m-d H:i:s.u\"},constructor:function(a){Ext.data.proxy.Client",201471,45,"this.cache={}},updateModel:function(a){if(!this.getId()){this.setId(a.modelName)}Ext.data.proxy.Client.prototype.updateModel.apply(this,arguments)},create:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),b,g,f;e.setStarted();for(f=0;f<c;f++){g=d[f];b=g.getId();this.setRecord(g);a.push(b)}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},read:function(h,o,p){var e=[],a=this.getIds(),l=this.getModel(),q=l.getIdProperty(),g=h.getParams()||{},n=h.getSorters(),d=h.getFilters(),b=h.getStart(),f=h.getLimit(),c=a.length,j,k,m;if(g[q]!==undefined){k=this.getRecord(g[q]);if(k){e.push(k);h.setSuccessful()}}else{for(j=0;j<c;j++){k=this.getRecord(a[j]);if(k){e.push(k)}}m",421054,33,");if(d&&d.length){m.setFilters(d)}if(n&&n.length){m.setSorters(n)}m.addAll(e);if(this.getEnablePagingParams()&&b!==undefined&&f!==undefined){e=m.items.slice(b,b+f)}else{e=m.items.slice()}h.setSuccessful()}h.setCompleted();h.setResultSet(Ext.create(\"Ext.data.ResultSet\",{records:e,total:e.length,loaded:true}));h.setRecords(e);if(typeof o==\"function\"){o.call(p||this,h)}},update:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),g,b,f;e.setStarted();for(f=0;f<c;f++){g=d[f];this.setRecord(g);b=g.getId();if(b!==undefined&&Ext.Array.indexOf(a,b)==-1){a.push(b)}}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},destroy:function(b,h,e){var a=b.getRecords(),f=a.length,d=this.getIds(),g=[].concat(d),c;b.setStarted();for(c=0;c<f;c++){Ext.Array.remove(g,a[c].getId());this.removeRecord(a[c],false)}this.setIds(g);",368486,35,"if(typeof h==\"function\"){h.call(e||this,b)}},getRecord:function(c){if(this.cache[c]===undefined){var m=this.getRecordKey(c),n=this.getStorageObject().getItem(m),g={},e=this.getModel(),k=e.getFields().items,d=k.length,h,l,b,j,a,f;if(!n){return undefined}a=Ext.decode(n);for(h=0;h<d;h++){l=k[h];b=l.getName();f=a[b];if(typeof l.getDecode()==\"function\"){g[b]=l.getDecode()(f)}else{if(l.getType().type==\"date\"){g[b]=this.readDate(l,f)}else{g[b]=f}}}j=new e(g,c);this.cache[c]=j}return this.cache[c]},setRecord:function(l,c){if(c){l.setId(c)}else{c=l.getId()}var o=this,a=l.getData(),k={},f=o.getModel(),m=f.getFields().items,d=m.length,j=0,g,p,b,h,q;for(;j<d;j++){p=m[j];b=p.getName();g=a[b];if(p.getPersist()===false){continue}if(typeof p.getEncode()==\"function\"){k[b]=p.getEncode()(g,l)}else{if(p.getType().type==\"date\"&&Ext.isDate(g)){k[b]=this.writeDate(p,g)}else{k[b]=g}}}h=o.getStorageObject();q=o.getRecordKey(c);o.cache[c]=l;h.removeItem(q);try{h.setItem(q,Ext.encode(k))}catch(n",368837,35,")}l.commit()},removeRecord:function(d,c){var b=this,a;if(d.isModel){d=d.getId()}if(c!==false){a=b.getIds();Ext.Array.remove(a,d);b.setIds(a)}delete this.cache[d];b.getStorageObject().removeItem(b.getRecordKey(d))},getRecordKey:function(a){if(a.isModel){a=a.getId()}return Ext.String.format(\"{0}-{1}\",this.getId(),a)},getIds:function(){var b=(this.getStorageObject().getItem(this.getId())||\"\").split(\",\"),c=b.length,a;if(c==1&&b[0]===\"\"){b=[]}return b},setIds:function(a){var c=this.getStorageObject(),d=a.join(\",\"),f=this.getId();c.removeItem(f);if(!Ext.isEmpty(d)){try{c.setItem(f,",361143,44,"b)}}},writeDate:function(c,b){if(Ext.isEmpty(b)",363109,39,"this.getDefaultDateFormat()",363159,119,"readDate:function(c,b){if(Ext.isEmpty(b)",363109,39,"this.getDefaultDateFormat()",363159,34,"new Date(b*1000);case\"time\":return new Date(b);default:return Ext.isDate(b)?b:Ext.Date.parse(b,a)}",526158,32,".proxy.Clien",545083,45,"var a=this.getStorageObject();try{a.setItem(this.getId(),a.getItem(this.getId())||\"\"",361144,43,"b)}},clear:function(){var d=this.getStorageObject(),c=this.getIds(),a=c.length,b;for(b=0;b<a;b++){this.removeRecord(c[b],false)}d.removeItem(this.getId())},getStorageObject:function(){}},1,0,0,0,0,0,[Ext.data.proxy,\"WebStorage\",Ext.data,\"WebStorage",368992,38,"proxy.LocalStorage\",Ext.data.proxy.WebStorag",377865,32,"LocalStorageProxy\",getStorageObject:function(){return window.localStorage}},0,0,0,0,[\"proxy.localstorage\"],0,[Ext.data.proxy,\"LocalStorage\",Ext.data,\"LocalStorage",368992,38,428911,177417,",\"permission\",\"restaurant\",\"id_restauran",605677,32,606358,148,608935,41,606526,883,608935,41,606526,104,607533,1606,"store.Session",608095,50,"Session\",autoLoad:true,proxy:{type:\"localstorage\",id:\"SessionStore\"}}},0,0,0,0,0,0,[MyApp.store,\"Session",609104,1798,"name:\"restaurant\"",610827,1188,"um:1,token:Ext.getStore(\"SessionStore\").getAt(0).data.sessionId",612021,884,"function afficherImage(b,a){if(b.id==802){a.setSrc(\"./resources/icons/cloudy.png\")}else{if(b.id==803||b.id==804){a.setSrc(\"./resources/icons/hazy.png\")}else{if(b.id==800){a.setSrc(\"./resources/icons/sunny.png\")}else{if(b.id==801){a.setSrc(\"./resources/icons/mostlysunny.png\")}else{if(b.id>=200&&b.id<=232){a.setSrc(\"./resources/icons/tstorms.png\")}else{if(b.id>=500&&b.id<=502||b.id==901){a.setSrc(\"./resources/icons/rain.png\")}else{if(b.id>=300&&b.id<=321){a.setSrc(\"./resources/icons/sleet.png\")}else{if(b.id==600){a.setSrc(\"./resources/icons/snow.png\")}else{a.setSrc(",609215,45,")}}}}}}}}}",612905,129,613123,168,"vbox\",items:[{xtype:\"container\",layout:\"hbox\",items:[{xtype:\"container\",",630326,41,613417,103,"CA",614719,64,"]},{xtype:\"container\",",629825,40,"xtype:\"image\",name:\"meteo_J\",id:\"meteo_J\",mode:\"image\",style:\"background-repeat: no-repeat;background-size: auto 100%;background-position: center;\"}]}]},{xtype:\"container\",layout:\"hbox\",items:[{xtype:\"container\",",630326,41,"xtype:\"label\",name:\"J",614815,83,"CAN1_J",614815,61,"]},{xtype:\"container\",",629825,40,"xtype:\"image\",name:\"meteo_J1\",id:\"meteo_J1\",mode:\"image\",style:\"background-repeat: no-repeat;background-size: auto 100%;background-position: center;\"}]}]},{xtype:\"container\",layout:\"hbox\",items:[{xtype:\"container\",",630326,41,"xtype:\"label\",name:\"J2",614816,82,"CAN1_J2",614816,60,"]},{xtype:\"container\",",629825,40,"xtype:\"image\",name:\"meteo_J2\",id:\"meteo_J2\",mode:\"image\",style:\"background-repeat: no-repeat;background-size: auto 100%;background-position: center;\"}]}]},{xtype:\"container\",layout:\"hbox\",items:[{xtype:\"container\",",630326,41,"xtype:\"label\",name:\"J3",614816,82,"CAN1_J3",614816,60,"]},{xtype:\"container\",",629825,40,"xtype:\"image\",name:\"meteo_J3\",id:\"meteo_J3\",mode:\"image\",style:\"background-repeat: no-repeat;background-size: auto 100%;background-position: center;\"}]}]},{xtype:\"container\",layout:\"hbox\",items:[{xtype:\"container\",",630326,41,"xtype:\"label\",name:\"J4",614816,82,"CAN1_J4",614816,60,"]},{xtype:\"container\",",629825,40,"xtype:\"image\",name:\"meteo_J4\",id:\"meteo_J4\",mode:\"image\",style:\"background-repeat: no-repeat;background-size: auto 100%;background-position: center;\"}]}]},{xtype:\"container\",layout:\"hbox\",items:[{xtype:\"container\",",630326,41,"xtype:\"label\",name:\"J5",614816,82,"CAN1_J5",614816,60,"]},{xtype:\"container\",",629825,40,"xtype:\"image\",name:\"meteo_J5\",id:\"meteo_J5\",mode:\"image\",style:\"background-repeat: no-repeat;background-size: auto 100%;background-position: center;\"}]",615913,34,"h){var c",615955,79,"e=new Date();var g=e.getFullYear()-1+\"-\"+m_number[e.getMonth()]+\"-\"+e",616103,51,"g,restaurant:h",616168,102,"m",616271,34,"d=this.down('label[name=\"J1",631310,34,"J2",616444,35,"3\"]');var p=this.down('label[name=\"J4",617567,34,"J5\"]');var e=new Date();m.setHtml(weekday[e.getDay()]+\" \"+e.getDate()+\"/\"+m_number[e.getMonth()]);e",616578,46,"d.setHtml(weekday[e.getDay()]+\" \"+e.getDate()+\"/\"+m_number[e.getMonth()]);e",616699,46,"b.setHtml(weekday[e.getDay()]+\" \"+e.getDate()+\"/\"+m_number[e.getMonth()]);e",616820,46,"a.setHtml(weekday[e.getDay()]+\" \"+e.getDate()+\"/\"+m_number[e.getMonth()]);e",616941,46,"p.setHtml(weekday[e.getDay()]+\" \"+e.getDate()+\"/\"+m_number[e.getMonth()]);e",617062,47,"o.setHtml(weekday[e.getDay()]+\" \"+e.getDate()+\"/\"+m_number[e.getMonth()]",617705,33,"N1_J",617612,34,"CAN1_J1",617740,36,"N1_J2",631406,34,"CAN1_J3",631365,34,"CAN1_J4",631453,34,"CAN1_J5",631552,32,"c=c-1;if(c",617982,472,"afficherImage(meteoJ,Ext.getCmp(\"meteo_J\"));afficherImage(meteoJ1,Ext.getCmp(\"meteo_J1\"));afficherImage(meteoJ2,Ext.getCmp(\"meteo_J2\"));afficherImage(meteoJ3,Ext.getCmp(\"meteo_J3\"));afficherImage(meteoJ4,Ext.getCmp(\"meteo_J4\"));afficherImage(meteoJ5,Ext.getCmp(\"meteo_J5\")",618637,33,"c=c-1;if(c",617982,35,"var t",618720,35,"q",618756,35,"w",618792,35,"v",618828,35,"u",618864,35,"s=storeCA.getAt(5).get(\"sales\");var r=new Date();r.setFullYear(r.getFullYear()-1);f.setHtml(\"(\"+weekday[r.getDay()]+\") \"+yearN1+\" : \"+t+\" \ufffff\ufffff\ufffff\");r",616578,46,"r.setFullYear(r.getFullYear()-1);n.setHtml(\"(\"+weekday[r.getDay()]+\") \"+yearN1+\" : \"+q+\" \ufffff\ufffff\ufffff\");r",616699,46,"r.setFullYear(r.getFullYear()-1);l.setHtml(\"(\"+weekday[r.getDay()]+\") \"+yearN1+\" : \"+w+\" \ufffff\ufffff\ufffff\");r",616820,46,"r.setFullYear(r.getFullYear()-1);k.setHtml(\"(\"+weekday[r.getDay()]+\") \"+yearN1+\" : \"+v+\" \ufffff\ufffff\ufffff\");r",616941,46,"r.setFullYear(r.getFullYear()-1);j.setHtml(\"(\"+weekday[r.getDay()]+\") \"+yearN1+\" : \"+u+\" \ufffff\ufffff\ufffff\");r",617062,47,"r.setFullYear(r.getFullYear()-1);i.setHtml(\"(\"+weekday[r.getDay()]+\") \"+yearN1+\" : \"+s+\" \ufffff\ufffff\ufffff\"",619425,1090,"\"auto\",placeHolder:\"Choississez...\",margin:10,options:opts",620608,587,"(Ext.cmd.derive(\"MyApp.view.Compte\",Ext.Container,{id:\"Compte\",",622288,57,620410,45,"Mon compte",613023,100,"fieldset\",id:\"mainF",624715,39,"utilisateurField\",label:\"Utilisateur\",name:\"utilisateur\",autoCapitalize:true,readOnly:\"true\"},{xtype:\"textfield\",id:\"restauField\",label:\"Restaurant\",name:\"restaurant\",autoCapitalize:true,readOnly:\"true\"",627493,84,"D\ufffff\ufffffconnexion\",ui:\"decline\",handler:function(b,a){Ext.Msg.confirm(\"D\ufffff\ufffffconnexion\",\"Confirmer la d\ufffff\ufffffconnexion ?\",function(c){if(c===\"yes\"){Ext.getStore(\"SessionStore\").getProxy().clear();window.location.href=window.location.href",634183,59,"}})}",615915,32,"a,b){var c=this.down('textfield[name=\"utilisateur\"]');var d=this.down('textfield[name=\"restaurant\"]');c.setValue(a);d.setValue(b)}},0,[\"compte",576224,33,"compte",619488,38,"compteview:true},[\"widget.compteview\"],0,[MyApp.view,\"Compte",621188,578,"var window_compte={title:\"Compte\",layout:\"fit\",iconCls:\"user",621248,39,"compte",621757,79,"itemI",621824,104,622007,952,"http://hapy.io/auth.php\",method:\"post\",params:{email:e,password:b},success:function(h){var f=Ext.JSON.decode(h.responseText);if(f.connection[0].success===\"1\"){var i=Ext.getStore(\"SessionStore\");i.removeAll();i.sync();var g",634102,36,"f.connection[0].token,permission:f.connection[0].permission,restaurant:f.connection[0].restaurant,id_restaurant:f.connection[0].id_restaurant});i.add(g);i.sync()",623132,40,"\"Identifiants \ufffff\ufffffrron\ufffff\ufffffs\")}},failure:function(f){d.sessionToken=null;d.signInFailure(\"Login failed. Please try again later.\")}})},signInSuccess:",249236,37,"mainview\"}]);",623252,168,"gn",623422,893,"d:\"AddSoir",610731,228,626925,65,"name:\"restaurant\"",626827,81,624699,135," :\",autoSelect:\"auto\"",624852,123," :\",autoSelect:\"auto\"",624852,34,"Meteo",624894,34,625066,43,"Urgence :",625125,654,",updateWithRecord:function(b){var a",630921,39,"a.setHtml(b)",625778,1124,"name:\"restaurant\"",626827,81,"Midi",624703,59,"Midi\",label:\"Chiffre : \",style:\"font-size:14px;\"",624928,33,627116,33," :",613167,48,"usePicker:\"auto",613213,34,627245,42," :",613167,48,"usePicker:\"auto\"",625053,49,"id:\"RemarqueUMidi\",label:\"Urgence :",627441,658,625576,86,628201,118,",updateWithRecord:function(b){var a",630921,39,"a.setHtml(b)",628318,458,";Ext.getCmp(\"AddMidi\").updateWithRecord(Ext.getStore(\"SessionStore\").getAt(0).data.restaurant",628775,76,";Ext.getCmp(\"AddSoir\").updateWithRecord(Ext.getStore(\"SessionStore\").getAt(0).data.restaurant",633040,35,"Add",632736,51,"Task",622256,40,628983,436,612670,263,629447,1410,"h,a,g",630862,98,"var b=weekday[h.getDay()]+\" \"+h.getDate()+\"/\"+m_number[h.getMonth()]+\"/\"+h.getFullYear();labeldate.setHtml(b",630979,107,"g,restaurant:a,token:Ext.getStore(\"SessionStore\").getAt(0).data.sessionId",631100,87,"e",631188,40,"f",631229,46,"d",631276,43,"c",631229,33,"urgente_midi",631406,34,"ca_soir",617740,34,"remarque_soir",631365,34,"meteo",631448,39,631531,87,"m",631013,34,".getAt(0);var n",631013,34,".getAt(1);e",631832,32,"f.setHtml(m.get(\"note\"));d.setHtml(m.get(\"weather\"));c.setHtml(m.get(\"warning_note\"));k.setHtml(n.get(\"sales\")+\" \ufffff\ufffff\ufffff\");l.setHtml(n.get(\"note\"));j.setHtml(n.get(\"weather\"));i.setHtml(n",631928,1174,621195,571,"var window_compte={title:\"Compte\",layout:\"fit\",iconCls:\"user",621248,39,"compte",621757,32,"controller.Ma",622254,42,"views:[\"Main\"],refs:{mainView:\"mainview\"},control:{\"#mainbar\":{initialize:\"onTabpanelInitialize\"}}},onTabpanelInitialize:function(c,b){console.log(Ext.getStore(\"SessionStore\").getAt(0).data.permission);if(Ext.getStore(\"SessionStore\").getAt(0).data.permission==2){var a=",621935,71,",window_compte]}c.add(a);Ext.getCmp(\"Compte\").updateWithRecord(Ext.getStore(\"SessionStore\").getAt(0).data.sessionId,Ext.getStore(\"SessionStore\").getAt(0).data.restaurant",633040,35,"Main",633085,350,",\"Compte",633434,108,",\"Main",633531,531,"a=Ext.getStore(\"SessionStore\");a.sync();if(a.getAt(0)==null){",634184,37,"])}else{Ext.Viewport.add([{xtype:\"mainview\"}])}",634243,322]