["function _17015bf3a044e2092e49b1a96ec112a86316494b",50,425730,"JsonP",376819,44,"\"Ext.data.ScriptTagProxy\",config:{defaultWriterType:\"base\",callbackKey:\"callback\",recordParam:\"records\",autoAppendParams:true",377070,39,"c=d.buildRequest(a),e=c.getParams();c.setConfig({callbackKey:d.getCallbackKey(),timeout:d.getTimeout(),scope:d",377225,42,"});if(d.getAutoAppendParams()){c.setParams({})}c.setJsonP(Ext.data.JsonP.request(c.getCurrentConfig()));c.setParams(e);a.setStarted();d.lastRequest=c;return c",377602,69,"h,f,g){delete c.lastRequest;",377678,32,",setException:function(b,a){b.setException(b.getRequest().getJsonP().errorType)},buildUrl:function(f){var e=this,a=Ext.data.proxy.Server.prototype.buildUrl.apply(this,arguments),h=Ext.apply({},f.getParams()),d=h.filters,c,b,g;delete h.filters;if(e.getAutoAppendParams()){a=Ext.urlAppend(a,Ext.Object.toQueryString(h))}if(d&&d.length){for(b=0;b<d.length;b++){c=d[b];g=c.getValue();if(g){a=Ext.urlAppend(a,c.getProperty()+\"=\"+g)}}}return a},destroy:function(){this.abort();Ext.data.proxy.Server",420464,41,",abort:function(){var a=this.lastRequest;if(a){Ext.data.JsonP.abort(a.getJsonP())}}},0,0,0,0,[\"proxy.jsonp\",\"proxy.scripttag\"],0,[Ext.data.proxy,\"JsonP\",Ext.data,\"ScriptTag",368992,38,425774,176685,"model.APImeteo",601900,34,"\"cod\",\"message\",\"city\",\"cnt\",\"list\"]}},0,0,0,0,0,0,[MyApp.model,\"APImeteo",602185,36,"Stoc",602224,42,"name_ingredient\",type:\"string\"},{name:\"quantite\",type:\"int",602147,32,"Stock",602185,36,"AddModel",601900,41,"Salut",602133,46,"AddModel",602429,921,"store.ReportDetail",602471,73,"Detail",602544,150,"detailstore\"],[\"reportdetailstore\"],{reportdetailstore:true},[\"widget.reportdetailstore\"],0,[MyApp.store,\"ReportDetail",602782,41,"ApiMeteo",602471,50,"APImeteo\",storeId:\"apimeteoStore\",proxy:{type:\"jsonp\",url:\"http://api.openweathermap.org/data/2.5/forecast/daily?q=Paris,fr&mode=json&units=metric&cnt=6&lang=fr\",reader:{type:\"json\"}}}},0,[\"apimeteostore\"],[\"apimeteostore\"],{apimeteostore:true},[\"widget.apimeteostore\"],0,[MyApp.store,\"ApiMeteo",602782,41,"Previsions",602471,67,"previsionss",602545,49,"Histo",602594,94,"previsionsstore\"],[\"previsionsstore\"],{previsionsstore:true},[\"widget.previsionsstore\"],0,[MyApp.store,\"Previsions",602782,41,"Stoc",602826,32,"model:\"MyApp.model.Stock\",storeId:\"stocks",602545,49,"Stocks",602594,40,"stock",602640,48,"stockstore\"],[\"stockstore\"],{stockstore:true},[\"widget.stockstore\"],0,[MyApp.store,\"Stock",602782,41,"SendAdd",602827,45,"model:\"MyApp.model.AddModel\",storeId:\"sendAdd\",proxy:{type:\"ajax\",actionMethods:\"POST\",url:\"http://hapy.io/post.php\",reader:{type:\"json\"}},listeners:[{fn:\"onArraystoreBeforeLoad\",event:\"beforeload\"}]},onArraystoreBeforeLoad:function(b,a,c){b.getProxy().setExtraParams({Salut:\"tam\ufffff\ufffffre\"})}},0,0,0,0,0,0,[MyApp.store,\"SendAdd",602782,35,603350,142,"3",603493,1545,612524,80,612394,52,"button\",id:\"bMidi\",style:\"height:30%;margin:1%;\"",605248,38,"action:\"soir\",id:\"bSoir\",style:\"height:30%;margin:1%;\"",605334,914,",somme:1",606248,122,"style:\"height:60%\"",606380,304,"var opts=[{text:\"Argout\",value:\"Argout\"},{text:\"Beaumarchais\",value:\"Beaumarchais\"},{text:\"R\ufffff\ufffffpublique\",value:\"Republique\"},{text:\"M\ufffff\ufffffnilmontant\",value:\"Menilmontant\"}]",605536,85,"var weekday=new Array(7);weekday[0]=\"Dimanche\";weekday[1]=\"Lundi\";weekday[2]=\"Mardi\";weekday[3]=\"Mercredi\";weekday[4]=\"Jeudi\";weekday[5]=\"Vendredi\";weekday[6]=\"Samedi\";(Ext.cmd.derive(\"MyApp.view.Previsions",614543,40,"titlebar\",docked:\"top\",title:\"Previsions\"},",603407,97,"selectfield\",id:\"restpick\",label:\"Restaurant\",autoSelect:false,placeHolder:\"Choississez...\",options:opts,margin:10,style:\"width:20%;margin-left:auto;\"},{xtype:\"container\",style:\"margin-top:30px;\",layout:\"hbox\",items:[{layout:\"vbox\",style:\"width:25%\",items:[{html:\"Jour",612539,59,"},{xtype:\"label\",name:\"J",612539,59,"},{xtype:\"label\",name:\"J+1",612539,59,"},{xtype:\"label\",name:\"J+2",612539,59,"},{xtype:\"label\",name:\"J+3",612539,59,"},{xtype:\"label\",name:\"J+4",612539,59,"},{xtype:\"label\",name:\"J+5",612539,59,"}]},{layout:\"vbox\",style:\"width:25%\",items:[{html:\"CA N-1",612539,59,"},{xtype:\"label\",name:\"CA_J",612539,59,"},{xtype:\"label\",name:\"CA_J+1",612539,59,"},{xtype:\"label\",name:\"CA_J+2",612539,59,"},{xtype:\"label\",name:\"CA_J+3",612539,59,"},{xtype:\"label\",name:\"CA_J+4",612539,59,"},{xtype:\"label\",name:\"CA_J+5",612539,59,"}]},{layout:\"vbox\",style:\"width:25%\",items:[{html:\"Meteo N-1",612539,59,"},{xtype:\"label\",name:\"MeteoN1_J",612539,59,"},{xtype:\"label\",name:\"MeteoN1_J+1",612539,59,"},{xtype:\"label\",name:\"MeteoN1_J+2",612539,59,"},{xtype:\"label\",name:\"MeteoN1_J+3",612539,59,"},{xtype:\"label\",name:\"MeteoN1_J+4",612539,59,"},{xtype:\"label\",name:\"MeteoN1_J+5",612539,59,"}]},{layout:\"vbox\",style:\"width:25%\",items:[{html:\"Meteo pr\ufffff\ufffffvue",612539,59,"},{xtype:\"label\",name:\"Meteo_J",612539,59,"},{xtype:\"label\",name:\"Meteo_J+1",612539,59,"},{xtype:\"label\",name:\"Meteo_J+2",612539,59,"},{xtype:\"label\",name:\"Meteo_J+3",612539,59,"},{xtype:\"label\",name:\"Meteo_J+4",612539,59,"},{xtype:\"label\",name:\"Meteo_J+5",612539,59,"}]}]}]},updateWithRecord:function(w){var s=2;storeCA=Ext.getStore(\"previsionsstore\");store=Ext.getStore(\"apimeteoStore\");B=new Date();var x=B.getFullYear()-1+\"-\"+m_number[B.getMonth()]+\"-\"+B.getDate();storeCA",606214,33,"x,restaurant:w});store.load();storeCA.load();Ext.Viewport",553102,37,"\"Chargement...\"});var k=this.down('label[name=\"J\"]');var e=this.down('label[name=\"J+1\"]');var d=this.down('label[name=\"J+2\"]');var c=this.down('label[name=\"J+3\"]');var b=this.down('label[name=\"J+4\"]');var a=this.down('label[name=\"J+5\"]');var B=new Date();k.setHtml(weekday[B.getDay()]+\" (\"+B.getDate()+\"/\"+m_number[B.getMonth()]+\")\");B=new Date(new Date().getTime()+24*60*60*1000);e.setHtml(weekday[B.getDay()]+\" (\"+B.getDate()+\"/\"+m_number[B.getMonth()]+\")\");B=new Date(new Date().getTime()+48*60*60*1000);d.setHtml(weekday[B.getDay()]+\" (\"+B.getDate()+\"/\"+m_number[B.getMonth()]+\")\");B=new Date(new Date().getTime()+72*60*60*1000);c.setHtml(weekday[B.getDay()]+\" (\"+B.getDate()+\"/\"+m_number[B.getMonth()]+\")\");B=new Date(new Date().getTime()+96*60*60*1000);b.setHtml(weekday[B.getDay()]+\" (\"+B.getDate()+\"/\"+m_number[B.getMonth()]+\")\");B=new Date(new Date().getTime()+120*60*60*1000);a.setHtml(weekday[B.getDay()]+\" (\"+B.getDate()+\"/\"+m_number[B.getMonth()]+\")\");var p=this.down('label[name=\"Meteo_J\"]');var z=this.down('label[name=\"Meteo_J+1\"]');var y=this.down('label[name=\"Meteo_J+2\"]');var v=this.down('label[name=\"Meteo_J+3\"]');var u=this.down('label[name=\"Meteo_J+4\"]');var t=this.down('label[name=\"Meteo_J+5\"]');var A=this.down('label[name=\"MeteoN1_J\"]');var r=this.down('label[name=\"MeteoN1_J+1\"]');var q=this.down('label[name=\"MeteoN1_J+2\"]');var o=this.down('label[name=\"MeteoN1_J+3\"]');var n=this.down('label[name=\"MeteoN1_J+4\"]');var m=this.down('label[name=\"MeteoN1_J+5\"]');var f=this.down('label[name=\"CA_J\"]');var l=this.down('label[name=\"CA_J+1\"]');var j=this.down('label[name=\"CA_J+2\"]');var i=this.down('label[name=\"CA_J+3\"]');var h=this.down('label[name=\"CA_J+4\"]');var g=this.down('label[name=\"CA_J+5\"]');store.on(\"load\",function(){s=s-1;if(s==0){Ext.Viewport.setMasked(false)}meteoJ=Ext.getStore(\"apimeteoStore\").getAt(0).get(\"list\")[0].weather[0];meteoJ1=Ext.getStore(\"apimeteoStore\").getAt(0).get(\"list\")[1].weather[0];meteoJ2=Ext.getStore(\"apimeteoStore\").getAt(0).get(\"list\")[2].weather[0];meteoJ3=Ext.getStore(\"apimeteoStore\").getAt(0).get(\"list\")[3].weather[0];meteoJ4=Ext.getStore(\"apimeteoStore\").getAt(0).get(\"list\")[4].weather[0];meteoJ5=Ext.getStore(\"apimeteoStore\").getAt(0).get(\"list\")[5].weather[0];p.setHtml(meteoJ.description);z.setHtml(meteoJ1.description);y.setHtml(meteoJ2.description);v.setHtml(meteoJ3.description);u.setHtml(meteoJ4.description);t.setHtml(meteoJ5.description)});storeCA.on(\"load\",function(){s=s-1;if(s==0){Ext.Viewport.setMasked(false)}var E=storeCA.getAt(0).get(\"sales\");var C=storeCA.getAt(1).get(\"sales\");var H=storeCA.getAt(2).get(\"sales\");var G=storeCA.getAt(3).get(\"sales\");var F=storeCA.getAt(4).get(\"sales\");var D=storeCA.getAt(5).get(\"sales\");meteoN1J=storeCA.getAt(0).get(\"weather\");meteoN1J1=storeCA.getAt(1).get(\"weather\");meteoN1J2=storeCA.getAt(2).get(\"weather\");meteoN1J3=storeCA.getAt(3).get(\"weather\");meteoN1J4=storeCA.getAt(4).get(\"weather\");meteoN1J5=storeCA.getAt(5).get(\"weather\");f.setHtml(E);l.setHtml(C);j.setHtml(H);i.setHtml(G);h.setHtml(F);g.setHtml(D);A.setHtml(meteoN1J);r.setHtml(meteoN1J1);q.setHtml(meteoN1J2);o.setHtml(meteoN1J3);n.setHtml(meteoN1J4);m.setHtml(meteoN1J5)})}},0,[\"previsions",608352,33,"previsions",604607,39,"revisionsview:true},[\"widget.previsionsview\"],0,[MyApp.view,\"Previsions\"],0)",604751,63,606745,620,"(Ext.cmd.derive(\"MyApp.view.Stocks",614543,40,"titlebar\",docked:\"top\",title:\"Stocks\"",611005,32,"staurant\",autoSelect:false,placeHolder:\"Choississez...\",options:opts,margin:10,style:\"width:20%;margin-left:auto;\",listeners:{show:function(a,c){var b",606009,66,614861,47,"Ext.getStore(\"stocks",606208,34,"restaurant:c});Ext.getStore(\"stockstore\").load();Ext.getCmp(\"stocklist\").setStore(Ext.getStore(\"stockstore\"))});a.delay(500)}}},{height:400,id:\"stockl",606393,49,"ingredient} : {quantite}g\"}]}},0,[\"stocks",608352,33,"stocks",604607,38,"stocksview:true},[\"widget.stocksview\"],0,[MyApp.view,\"Stocks",607358,62,607867,37,607435,185,607854,50,"previsionsview",607800,150,"layout:\"fit\",iconCls:\"car",607864,40,"stocksview",608141,115,521810,33,"directionLock:true}",608255,1927,"RAS\",value:\"RAS\"},{text:\"Manifestations\",value:\"Manifestations\"},{text:\"Soldes\",value:\"Soldes\"},{text:\"Vacances scolaires Paris\",value:\"Vacances_intern\"},{text:\"Veille jour f\ufffff\ufffffri\ufffff\ufffff\",value:\"veille_ferie\"},{text:\"Pont\",value:\"Pont\"}];var optsmeteo=[{text:\"Ensoleill\ufffff\ufffff\",value:\"Ensoleill\ufffff\ufffff\"},{text:\"Nuageux\",value:\"Nuageux\"},{text:\"Pluies\",value:\"Pluies\"},{text:\"Neiges\",value:\"Neiges",612128,35,610479,566,"autoSelect:false,placeHolder:\"Choississez...",611043,97,"autoSelect:false,placeHolder:\"Choississez...",611138,728,"RAS\",value:\"RAS\"},{text:\"Manifestations\",value:\"Manifestations\"},{text:\"Soldes\",value:\"Soldes\"},{text:\"Vacances scolaires Paris\",value:\"Vacances_intern\"},{text:\"Veille jour f\ufffff\ufffffri\ufffff\ufffff\",value:\"veille_ferie\"},{text:\"Pont\",value:\"Pont\"}];var optsmeteo=[{text:\"Ensoleill\ufffff\ufffff\",value:\"Ensoleill\ufffff\ufffff\"},{text:\"Nuageux\",value:\"Nuageux\"},{text:\"Pluies\",value:\"Pluies\"},{text:\"Neiges\",value:\"Neiges",612128,632,"autoSelect:false,placeHolder:\"Choississez...",612758,94,"autoSelect:false,placeHolder:\"Choississez...",612850,1841,612541,57,614723,35,612541,57,"},{xtype:\"container\",style:\"margin-top:30px;\",layout:\"hbox\",items:[{layout:\"vbox\",style:\"width:50%\",items:[{html:\"Service midi",612539,59,"},{xtype:\"label\",name:\"ca_midi",612539,59,"},{xtype:\"label\",name:\"remarque_midi",612539,59,"},{xtype:\"label\",name:\"meteo_midi",612539,59,"},{xtype:\"label\",name:\"remarque_urgente_midi",612539,59,"}]},{layout:\"vbox\",style:\"width:50%;\",items:[{html:\"Service soir",612539,59,"},{xtype:\"label\",name:\"ca_soir",612539,59,"},{xtype:\"label\",name:\"remarque_soir",612539,59,"},{xtype:\"label\",name:\"meteo_soir",612539,59,"},{xtype:\"label\",name:\"remarque_urgente_soir",612539,59,"}]}]}]},updateWithRecord:function(g,a,f){labeldate=this.down('label[name=\"date\"]');labelrestaurant=this.down('label[name=\"restaurant\"]');labeldate.setHtml(g);labelrestaurant.setHtml(a);store=Ext.getStore(\"reportDetailStore\");store",606214,33,"f,restaurant:a});store.load();Ext.Viewport",553102,37,"\"Chargement...\"});var d=this.down('label[name=\"ca_midi\"]');var e=this.down('label[name=\"remarque_midi\"]');var c=this.down('label[name=\"meteo_midi\"]');var b=this.down('label[name=\"remarque_urgente_midi\"]');var j=this.down('label[name=\"ca_soir\"]');var k=this.down('label[name=\"remarque_soir\"]');var i=this.down('label[name=\"meteo_soir\"]');var h=this.down('label[name=\"remarque_urgente_soir\"]');store.on(\"load\",function(){Ext.Viewport.setMasked(false);var l=Ext.getStore(\"reportDetailStore\").getAt(0);var m=Ext.getStore(\"reportDetailStore\").getAt(1);d.setHtml(l.get(\"sales\")+\" \ufffff\ufffff\ufffff\");e.setHtml(l.get(\"note\"));c.setHtml(l.get(\"weather\"));b.setHtml(l.get(\"warning_note\"));j.setHtml(m.get(\"sales\")+\" \ufffff\ufffff\ufffff\");k.setHtml(m.get(\"note\"));i.setHtml(m.get(\"weather\"));h.setHtml(m.get(\"warning_note\"))}",614965,462,615461,94,615602,62,615425,34,"i.updateWithRecord(value,a.get(\"name_restaurant\"),f",615662,100,608544,34,"Previsions",613600,48,"Previsions\"],refs:{previsionsView:\"previsionsview\",restpicker:\"#restpick\"},control:{restpicker:{change:\"changePick\"}}},changePick:function(c,b){var a=this.getPrevisionsView();a.updateWithRecord(b",614446,35,"Previsions",615745,70,",\"APImeteo\",\"Stock\",\"AddModel",615814,36,",\"ReportDetailStore\",\"ApiMeteoStore\",\"PrevisionsStore\",\"StockStore\",\"SendAdd",615844,92,",\"Previsions\",\"Stocks",615935,85,",\"Previsions",616009,585,";if(Ext.os.is.iOS&&Ext.os.version.major>=7){Ext.select(\".x-toolbar\").applyStyles(\"height: 62px; padding-top: 15px;\")}",616594,206]